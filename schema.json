{
  "title": "DiscipleSoft",
  "description": "App to help churches make disciples.",
  "definitions": {
    "Association": {
      "title": "Association",
      "description": "An association of churches (i.e convention, diocese, parish, conference, etc...).",
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "uuid"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "address": {
          "$ref": "#/definitions/PostalAddress"
        },
        "associations": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Association"
          }
        },
        "churches": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Church"
          }
        }
      },
      "required": [ 
        "name" 
      ],
      "links": [
        {
          "description": "Retrieves a list of associations.",
          "href": "/associations",
          "method": "GET"
        },
        {
          "description": "Retrieves a specific association.",
          "href": "/associations/{associationId}",
          "method": "GET"
        },
        {
          "description": "Creates a new association.",
          "href": "/associations",
          "method": "POST"
        },
        {
          "description": "Updates a specific association.",
          "href": "/associations/{associationId}",
          "method": "PUT"
        },
        {
          "description": "Modify a specific association.",
          "href": "/associations/{associationId}",
          "method": "PATCH"
        },
        {
          "description": "Remove a specific association.",
          "href": "/associations/{associationId}",
          "method": "DELETE"
        },
        {
          "rel": "associations",
          "description": "Retrieves a list sub-associations.",
          "href": "/associations?associations={associationId}",
          "method": "GET"
        },
        {
          "rel": "churches",
          "description": "Retrieves a list of associated churches.",
          "href": "/churches?
        }
      ]
    },
    "MemberAssociation": {
      "title": "MemberAssociation",
      "type": "object",
      "properties": {
      }
    },
    "MemberChurch": {
      "title": "MemberChurch",
      "type": "object",
      "properties": {
      }
    },
    "Church": {
      "title": "Church",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "address": {
          "$ref": "#/definitions/PostalAddress"
        },
        "association": {
        },
        "families": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Family"
          }
        },
        "people": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Person"
          }
        }
      },
      "links": [
        {
          "description": "Retrieves a list of church.",
          "href": "/churches",
          "method": "GET"
        },
        {
          "description": "Retrieves a specific church.",
          "href": "/churches/{churchId}",
          "method": "GET"
        },
        {
          "description": "Creates a new church.",
          "href": "/churches",
          "method": "POST"
        },
        {
          "description": "Updates a specific church.",
          "href": "/churches/{churchId}",
          "method": "PUT"
        },
        {
          "description": "Modify a specific church.",
          "href": "/churches/{churchId}",
          "method": "PATCH"
        },
        {
          "description": "Remove a specific church.",
          "href": "/churches/{churchId}",
          "method": "DELETE"
        }
      ]
    },
    "Family": {
      "title": "Family",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "address": {
          "$ref": "#/definitions/PostalAddress"
        },
        "members": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/FamilyMember"
          }
        }
      }
    },
    "FamilyMember": {
      "title": "FamilyMember",
      "type": "object",
      "properties": {
        "person": {
          "$ref": "#/definitions/Person"
        },
        "role": {
          "$ref": "#/definitions/FamilyRole"
        }
      }
    },
    "Person": {
      "title": "Person",
      "type": "object",
      "properties": {
      }
    },
    "Group": {
      "title": "Group",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "members": {
          "type": "array",
          "items": "#/definitions/GroupMember"
        }
      }
    },
    "GroupRole": {
      "title": "GroupRole",
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/NamedType"
        }
      ]
    },
    "GroupMember": {
      "title": "GroupMember",
      "type": "object",
      "properties": {
        "person": {
          "$ref": "#/definitions/DBRef"
        },
        "role": {
          "$ref": "#/definitions/GroupRole"
        }
      }
    },
    "Event": {
      "title": "Event",
      "type": "object",
      "properties": {
      }
    },
    "PostalAddress": {
      "title": "PostalAddress",
      "type": "object",
      "properties": {
      }
    },
    "NamedType": {
      "title": "NamedType",
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        }
      }
    },
    "Ref": {
      "type": "object",
      "properties": {
        "$id": {
          "type": "string"
        },
        "$query": {
          "type": "string"
        }
      }
    },
    "DBRef": {
      "type": "object",
      "properties": {
        "$ref": {
          "type": "string"
        },
        "$id": {
          "type": "string"
        },
        "$db": {
          "type": "string"
        }
      }
    }
  },
  "type": "object",
  "properties": {
  }
}
